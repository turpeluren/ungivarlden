---
import Features2 from '~/components/widgets/Features2.astro';
import Features3 from '~/components/widgets/Features3.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import Hero from '~/components/widgets/Hero2.astro';
import Stats from '~/components/widgets/Stats.astro';
import Steps2 from '~/components/widgets/Steps2.astro';
import Layout from '~/layouts/PageLayout.astro';
import Waves from '~/components/common/Waves.astro';
import HeroText from '~/components/widgets/HeroText.astro'; 
import Content from '~/components/widgets/Content.astro';
import Section from '~/components/ui/section.astro';

import { getPermalink } from '~/utils/permalinks';

const metadata = {
  title: 'Verksamhet',
};

const {
  frontmatter
} = Astro.props;

const titleColors = [
  'text-blue-500',
  'text-blue-800',
  'text-purple-500',
  'text-teal-500',
  'text-orange-500',
];

const sections = frontmatter.values.map((value, index) => ({
  title: value.title,
  content: value.description,
  icon: value.image.src,
  alt: value.image.alt,
  reverse: index % 2 !== 0,
  titleColor: titleColors[index % titleColors.length], // Apply color cyclically
}));

---

<Layout metadata={metadata}>

  <!-- Hero Widget ******************* -->

  <Hero
    tagline={frontmatter.tagline}
    title={frontmatter.title}
    subtitle={frontmatter.subtitle}
    bg="bg-tertiary"
    image={{ src: frontmatter.heroImage.src, alt: frontmatter.heroImage.alt}}
  >
  </Hero>


  <Waves bottom bg="" color="fill-page"/>
  <Waves bottom bg="" color="fill-primary opacity-40"/>


  <Features2
    id="values"
    tagline="V책ra grunder"
    columns={5}
    title={frontmatter.valuesTitle}
    subtitle={frontmatter.valuesSubtitle}
    items={frontmatter.values}
    >
    <Fragment slot="bg">
      <div class="absolute inset-0 bg-primary opacity-40 dark:bg-transparent"></div>
    </Fragment>
  </Features2>


  <Waves bottom bg="bg-primary opacity-40" color="fill-secondary" />


  To make the sections more rectangular while keeping the floating effect, you can adjust the padding and border radius in the Section component. Here's how you can do it:

  Updated Section Component
  Reduce Border Radius: Use a smaller border-radius to make the sections look more rectangular.
  Adjust Padding: Ensure the padding is consistent but slightly reduced to give a more rectangular appearance.
  Here's the updated Section component with these adjustments:
  
  html
  Kopiera kod
  ---
  export interface SectionProps {
    title: string;
    content: string;
    icon: string;
    alt: string;
    reverse: boolean;
    titleColor: string; // Added for dynamic title color
  }
  
  const { title, content, icon, alt, reverse, titleColor } = Astro.props;
  ---
  
  <>
    <div class={`flex ${reverse ? 'flex-row-reverse' : 'flex-row'} items-center py-8 px-4`}>
      <!-- Icon -->
      <img src={icon} alt={alt} class="w-12 h-12 mr-6" />
  
      <!-- Content -->
      <div class="bg-white dark:bg-gray-900 p-6 rounded-md shadow-md">
        <!-- Title with different colors -->
        <h3 class={`text-xl font-semibold mb-4 ${titleColor}`}>
          {title}
        </h3>
        <!-- Content text -->
        <p class="text-base text-gray-700 dark:text-gray-300">{content}</p>
      </div>
    </div>
  </>

  <!-- Sections *********************** -->
  <div class="relative py-12 px-6 md:px-12">
    <!-- Background Overlay -->
    <div class="z-[-1] absolute inset-0 bg-secondary opacity-40 pointer-events-none" />
    
    <!-- Section Components -->
    {sections.map((section, index) => (
      <Section
        key={index}
        title={section.title}
        content={section.content}
        icon={section.icon}
        alt={section.alt}
        reverse={section.reverse}
        titleColor={section.titleColor}
      />
    ))}
  </div>
  
  <!--Content
    class:list="mt-[-1px] pt-10 mb-16 mx-auto px-6 sm:px-6 max-w-3xl prose prose-md lg:prose-xl dark:prose-invert dark:prose-headings:text-slate-300 prose-headings:font-heading prose-headings:leading-tighter prose-headings:tracking-tighter prose-headings:font-bold prose-a:text-primary dark:prose-a:text-blue-400 prose-img:rounded-md prose-img:shadow-lg prose-headings:scroll-mt-[80px] prose-li:my-0"
  >
    <Fragment slot="content"> 
      <slot />
    </Fragment>

    <Fragment slot="bg">
      <div class="absolute inset-0 bg-secondary opacity-40 dark:bg-transparent"></div>
    </Fragment>
  </Content-->


  <Waves top bg="opacity-40" variant='quaternary' color="fill-secondary"></Waves>

  <div 
    class="mt-[-1px] pt-10 mb-16 mx-auto px-6 sm:px-6 max-w-3xl prose prose-md lg:prose-xl dark:prose-invert dark:prose-headings:text-slate-300 prose-headings:font-heading prose-headings:leading-tighter prose-headings:tracking-tighter prose-headings:font-bold prose-a:text-primary dark:prose-a:text-blue-400 prose-img:rounded-md prose-img:shadow-lg prose-headings:scroll-mt-[80px] prose-li:my-0"
  >
    <slot />
  </div>

  <!-- CallToAction Widget *********** -->

  <CallToAction
    actions={[
      {
        variant: 'primary',
        text: 'Eventkalender',
        href: getPermalink('/eventkalender'),
      },
    ]}
    title="H채ng med p책 n채sta event!"
    subtitle=""
  />
</Layout>
